#!/bin/bash

curl -v -i -X POST \
 --cacert ../ssl/server/server.crt \
 --cert ../ssl/client/client1.p12:123456 \
 --cert-type p12 \
 -H 'content-type: application/json' \
 -d '{ "name": "lukas", "clientCertificate": "MIICgTCCAiegAwIBAgIUZZc022OPxuVQ54kfIMZYFIjtfw0wCgYIKoZIzj0EAwIwgZUxCzAJBgNVBAYTAkNaMRcwFQYDVQQIDA5DemVjaCBSZXB1YmxpYzEPMA0GA1UEBwwGUHJhZ3VlMRgwFgYDVQQKDA9DbG91ZGZpZWxkIGEucy4xFjAUBgNVBAMMDUx1a2FzIEtvcGVuZWMxKjAoBgkqhkiG9w0BCQEWG2x1a2FzLmtvcGVuZWNAY2xvdWRmaWVsZC5jejAeFw0yMDA5MjkwNjI2MTFaFw0yMTA5MjQwNjI2MTFaMIGVMQswCQYDVQQGEwJDWjEXMBUGA1UECAwOQ3plY2ggUmVwdWJsaWMxDzANBgNVBAcMBlByYWd1ZTEYMBYGA1UECgwPQ2xvdWRmaWVsZCBhLnMuMRYwFAYDVQQDDA1MdWthcyBLb3BlbmVjMSowKAYJKoZIhvcNAQkBFhtsdWthcy5rb3BlbmVjQGNsb3VkZmllbGQuY3owWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAATvEO6gSqSKh6eMR9qb2mMk611Q3H0zm81zSYReo9W04WhwZBzuo+3D3cC3un30Y6A08qJOJ0ZJlUnZJA7QXo05o1MwUTAdBgNVHQ4EFgQUe+9WPjzrGJtduozZbY6Le2eHwhEwHwYDVR0jBBgwFoAUe+9WPjzrGJtduozZbY6Le2eHwhEwDwYDVR0TAQH/BAUwAwEB/zAKBggqhkjOPQQDAgNIADBFAiAb0lSWpbDQ3j4MAoOLqeR3SbNYVSc1MRjqNt34WSKqQQIhAIWy3TK6KLX8R8AyRdiSDGYXG3zzK+wjDGoataX4wfYY" }' \
 https://localhost:8443/api/v1/clients